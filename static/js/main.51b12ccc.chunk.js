(this["webpackJsonplexop-test"]=this["webpackJsonplexop-test"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(2),a=c(16),r=c.n(a),o=(c(23),c(24),c(3)),i=c(15),l=(c(25),c(28),i.a.initializeApp({apiKey:"AIzaSyBdnw2H0Cu4__EMWrEEWuNMZq6hHMoNfgo",authDomain:"lexop-test.firebaseapp.com",databaseURL:"https://lexop-test-default-rtdb.firebaseio.com",projectId:"lexop-test",storageBucket:"lexop-test.appspot.com",messagingSenderId:"357862369053",appId:"1:357862369053:web:e7fa7532b705230a5423f4"})),j=i.a.firestore(),d=(c(29),function(e){var t=e.hasAccount,c=e.setHasAccount,s=e.setEmail,a=e.setPassword,r=e.emailError,o=e.passwordError,i=e.handleSignUp,l=e.handleLogin;return Object(n.jsx)("div",{className:"login-page",children:Object(n.jsx)("div",{className:"login-container",children:Object(n.jsxs)("div",{className:"login",children:[t?Object(n.jsx)("h2",{children:"Sign In"}):Object(n.jsx)("h2",{children:"Sign Up"}),Object(n.jsx)("input",{placeholder:"email",type:"text",onChange:function(e){return s(e.target.value)}}),r&&Object(n.jsx)("p",{children:"Error Email Message"}),Object(n.jsx)("input",{placeholder:"password",type:"password",onChange:function(e){return a(e.target.value)}}),o&&Object(n.jsx)("p",{children:"Error Password Message"}),t?Object(n.jsxs)("div",{className:"signin-container",children:[Object(n.jsx)("div",{className:"login-btn btn",onClick:function(){return l()},children:"Sign In"}),Object(n.jsxs)("div",{className:"has-account",children:[Object(n.jsx)("p",{children:"Do you need an account?"}),Object(n.jsx)("div",{onClick:function(){return c(!1)},children:"Register"})]})]}):Object(n.jsxs)("div",{className:"signin-container",children:[Object(n.jsx)("div",{className:"login-btn btn",onClick:function(){return i()},children:"Sign Up"}),Object(n.jsxs)("div",{className:"has-account",children:[Object(n.jsx)("p",{children:"Already has an account?"}),Object(n.jsx)("div",{onClick:function(){return c(!0)},children:"Sign In "})]})]})]})})})}),u=Object(s.createContext)(),b=function(e){j.collection("users").doc(e).collection("userData").doc("projectsInfo").set({}),j.collection("users").doc(e).collection("userData").doc("listOfProjects").set({})},O=function(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],r=Object(s.useState)(""),i=Object(o.a)(r,2),j=i[0],O=i[1],h=Object(s.useState)(""),p=Object(o.a)(h,2),f=p[0],m=p[1],x=Object(s.useState)(""),v=Object(o.a)(x,2),N=v[0],g=v[1],C=Object(s.useState)(!1),S=Object(o.a)(C,2),y=S[0],P=S[1],w=Object(s.useContext)(u),I=w.setLoggedInUser,E=w.logoutUser,k=function(){m(""),g("")};return Object(s.useEffect)((function(){return l.auth().onAuthStateChanged((function(e){e?(a(""),O(""),I({email:e.email,uid:e.uid})):E()}))}),[I,E]),Object(n.jsx)(d,{hasAccount:y,setHasAccount:P,setEmail:a,setPassword:O,handleSignUp:function(){k(),l.auth().createUserWithEmailAndPassword(c,j).then((function(e){b(e.user.uid)})).catch((function(e){switch(e.code){case"auth/email-already-in-use":case"auth/invalid-email":m(e.message);break;case"auth/weak-password":g(e.message);break;default:return}}))},handleLogin:function(){k(),l.auth().signInWithEmailAndPassword(c,j).catch((function(e){switch(e.code){case"auth/invalid-email":case"auth/user-disabled":case"auth/user-not-found":m(e.message);break;case"auth/wrong-password":g(e.message);break;default:return}}))},emailError:f,passwordError:N})},h=(c(30),function(e){var t=e.createNewProject,c=e.setCreateNewProject,a=(e.setUser,Object(s.useContext)(u).logoutUser);return Object(n.jsxs)("div",{className:"nav",children:[Object(n.jsxs)("div",{className:"nav-container-left",children:[Object(n.jsx)("h2",{children:" Home Improvement"}),Object(n.jsx)("div",{className:"new-project-btn btn",onClick:function(){return c(!t)},children:"New Project"})]}),Object(n.jsx)("div",{className:"nav-container-right",children:Object(n.jsx)("div",{className:"logout-btn btn",onClick:function(){l.auth().signOut(),a()},children:"Logout"})})]})}),p=(c(31),["Created","Started","Stopped","Completed"]),f=function(e){var t=e.handleAddProjectToListSubmit,c=e.setCreateNewProject,a=Object(s.useState)(""),r=Object(o.a)(a,2),i=r[0],l=r[1],j=Object(s.useState)(""),d=Object(o.a)(j,2),u=d[0],b=d[1],O=Object(s.useState)(""),h=Object(o.a)(O,2),f=h[0],m=h[1],x=Object(s.useState)(null),v=Object(o.a)(x,2),N=v[0],g=v[1],C=Object(s.useState)(null),S=Object(o.a)(C,2),y=S[0],P=S[1],w=Object(s.useState)(null),I=Object(o.a)(w,2),E=I[0],k=I[1],A=function(e){e.preventDefault();var n=Math.floor(1e3*Math.random());t({title:i,description:u,status:f,dateCreated:N,estimatedLevelOfEfford:y,currentLevelOfEfford:E,projectId:n,comments:{}}),l(""),b(""),m(""),g(null),P(null),k(null),c(!1)};return Object(n.jsxs)("div",{className:"create-project-container",children:[Object(n.jsx)("h2",{children:"Create New Project"}),Object(n.jsxs)("form",{className:"create-project-form",onSubmit:function(e){return A(e.target.value)},children:[Object(n.jsxs)("div",{className:"inputs-container",children:[Object(n.jsxs)("div",{className:"left-side-inputs",children:[Object(n.jsx)("input",{className:"create-project-input",placeholder:"Title",onChange:function(e){return l(e.target.value)}}),Object(n.jsx)("input",{className:"create-project-input",type:"date",onChange:function(e){return g(e.target.value)}}),Object(n.jsx)("input",{className:"create-project-input",placeholder:"estimated effort",type:"number",onChange:function(e){return P(e.target.value)}}),Object(n.jsx)("input",{className:"create-project-input",placeholder:"current effort",type:"number",onChange:function(e){return k(e.target.value)}}),Object(n.jsxs)("select",{className:"selector",onChange:function(e){return m(e.target.value)},children:[Object(n.jsx)("option",{value:"",children:"-- Project Status -- "}),p.map((function(e){return Object(n.jsx)("option",{value:e,children:e},e+1)}))]})]}),Object(n.jsx)("div",{className:"right-side-inputs",children:Object(n.jsx)("textarea",{rows:"24",cols:"46",placeholder:"Description",onChange:function(e){return b(e.target.value)}})})]}),Object(n.jsx)("div",{className:"submit-btn btn",onClick:A,children:"Submit"})]})]})},m=c(12),x=(c(32),c(10)),v=c.n(x),N=function(){return(new Date).toISOString().slice(0,19).replace(/-/g,"/").replace("T"," ")},g=(c(33),function(e){var t=e.projectInfo,c=e.setNewCommentInProjectInput,a=e.addNewCommentToProject,r=Object(s.useState)(!1),i=Object(o.a)(r,2),l=i[0],j=i[1],d=v()("open-comments-icon","fas","fa-chevron-down",{commentsOpened:l}),u=Object.entries(t.comments).map((function(e){return Object(n.jsxs)("div",{className:"comment-info",children:[Object(n.jsx)("div",{className:"comment-date",children:Object(n.jsx)("p",{children:e[0]})}),Object(n.jsx)("div",{className:"comment-text",children:Object(n.jsx)("p",{children:e[1]})})]},e[0])}));return Object(n.jsxs)("div",{className:"project-comments-container",children:[Object(n.jsxs)("div",{className:"project-comments-header",children:[Object(n.jsx)("h3",{children:"Comments"}),Object(n.jsx)("div",{className:"open-comments-icon",onClick:function(){return j(!l)},children:Object(n.jsx)("i",{className:d})})]}),l&&Object(n.jsxs)("div",{className:"project-comments",children:[Object(n.jsxs)("div",{className:"comments-header",children:[Object(n.jsx)("h4",{children:"Date"}),Object(n.jsx)("h4",{children:"Comment:"})]}),u,Object(n.jsxs)("div",{className:"new-comment-input",children:[Object(n.jsx)("input",{type:"text",placeholder:"Add new comment here",onChange:function(e){return c(e.target.value)}}),Object(n.jsx)("div",{className:" btn add-comment-btn",onClick:a,children:"Add comment"})]})]})]})}),C=(c(34),function(e){var t=e.setShowDeleteModal,c=e.handleDeleteProjectClick,s=e.projectInfo;return Object(n.jsx)("div",{className:"black-layout",children:Object(n.jsxs)("div",{className:"delete-modal",children:[Object(n.jsxs)("h3",{children:["A you sure you want do delete ",s.title,"?"]}),Object(n.jsxs)("div",{className:"confim-btns-container",children:[Object(n.jsxs)("div",{onClick:function(){return c(s)},className:"yes-btn btn",children:[" ","Yes"," "]}),Object(n.jsx)("div",{onClick:function(){return t(!1)},className:"no-btn btn",children:"No"})]})]})})}),S=function(e){var t=e.setNewProjectStatus;return Object(n.jsx)("div",{className:"status-selector",children:p.map((function(e){return Object(n.jsx)("div",{className:"project-status",onClick:function(){return t(e)},children:e},e)}))})},y=function(e){var t=e.project,c=e.projectsById,a=e.handleUpdateProject,r=e.handleDeleteProjectClick,i=Object(s.useState)(!1),l=Object(o.a)(i,2),j=l[0],d=l[1],b=Object(s.useState)(!1),O=Object(o.a)(b,2),h=O[0],p=O[1],f=Object(s.useState)(""),x=Object(o.a)(f,2),y=x[0],P=x[1],w=Object(s.useState)(""),I=Object(o.a)(w,2),E=I[0],k=I[1],A=Object(s.useContext)(u).user,D=c[t],L=Object(s.useCallback)((function(){var e=Object(m.a)({},D);e.status=y,a(e),d(!1),P("")}),[a,D,y]);Object(s.useEffect)((function(){y&&L()}),[y,L]);var U=v()("project-status",{completed:"Completed"===D.status,stopped:"Stopped"===D.status,started:"Started"===D.status}),B=v()("actual-effort",{lowEffort:D.estimatedLevelOfEfford>D.currentLevelOfEfford,highEffort:D.estimatedLevelOfEfford<D.currentLevelOfEfford});return Object(n.jsxs)("div",{className:"project",children:[Object(n.jsxs)("div",{className:"project-header",children:[Object(n.jsx)("h2",{children:D.title}),Object(n.jsx)("div",{className:"delete-project",children:Object(n.jsx)("div",{className:"delete-project-btn btn",onClick:function(){return p(!0)},children:"Delete"})}),Object(n.jsx)("div",{className:"project-status-container",children:j?Object(n.jsx)(S,{setNewProjectStatus:P}):Object(n.jsx)("div",{className:U,onClick:function(){return d(!j)},children:D.status})})]}),Object(n.jsxs)("div",{className:"project-basic-container",children:[Object(n.jsxs)("div",{className:"project-author-container",children:[Object(n.jsxs)("div",{className:"project-author",children:[Object(n.jsx)("i",{className:"icons fas fa-user-alt"}),Object(n.jsx)("div",{children:A.email})]}),Object(n.jsxs)("div",{className:"project-date",children:[Object(n.jsx)("i",{className:"icons far fa-clock"}),Object(n.jsx)("div",{children:D.dateCreated})]})]}),Object(n.jsxs)("div",{className:"project-info",children:[Object(n.jsx)("div",{className:"project-text",children:Object(n.jsx)("p",{children:D.description})}),Object(n.jsxs)("div",{className:"project-effort-container",children:[Object(n.jsxs)("div",{className:"estimates-effort",children:[Object(n.jsx)("p",{children:"Estimated level of effort"}),Object(n.jsx)("h2",{children:D.estimatedLevelOfEfford})]}),Object(n.jsxs)("div",{className:B,children:[Object(n.jsx)("p",{children:"Actual level of effort"}),Object(n.jsx)("h2",{children:D.currentLevelOfEfford})]})]})]})]}),Object(n.jsx)(g,{addNewCommentToProject:function(){var e=N(),t=D;t.comments[e]=E,a(t)},projectInfo:D,setNewCommentInProjectInput:k}),h&&Object(n.jsx)(C,{handleDeleteProjectClick:r,setShowDeleteModal:p,projectInfo:D})]})},P=(c(35),function(e){var t=e.projectAllIds,c=e.projectsById,s=e.handleUpdateProject,a=e.handleDeleteProjectClick;return Object(n.jsx)("div",{className:"list-of-projects-container",children:t.map((function(e){return Object(n.jsx)(y,{project:e,projectsById:c,handleUpdateProject:s,handleDeleteProjectClick:a},e)}))})}),w=Object(s.createContext)(),I=function(e){return j.collection("users").doc(e.uid).collection("userData").doc("listOfProjects")},E=function(e){return j.collection("users").doc(e.uid).collection("userData").doc("projectsInfo")},k=function(e,t){j.collection("users").doc(e.uid).collection("userData").doc("listOfProjects").set({projectsAllIdsList:t})},A=function(e,t){j.collection("users").doc(e.uid).collection("userData").doc("projectsInfo").set(t)},D=function(e){var t=e.user,c=Object(s.useState)(!1),a=Object(o.a)(c,2),r=a[0],i=a[1],l=Object(s.useContext)(w),j=l.projectsById,d=l.projectsAllIds,u=l.setProjectsAllIdsFromFBtoState,b=l.setProjectsByIdFromFBtoState,O=l.addProjectToState,p=l.deleteProject,m=l.updateProject;Object(s.useEffect)((function(){E(t).onSnapshot((function(e){b(e.data())})),I(t).onSnapshot((function(e){e.data().projectsAllIdsList&&u(e.data().projectsAllIdsList)}))}),[t]),Object(s.useEffect)((function(){d.length>0&&k(t,d),j&&A(t,j)}),[t,d,j]);return Object(n.jsxs)("div",{className:"main-container",children:[Object(n.jsx)(h,{setCreateNewProject:i,createNewProject:r}),r&&Object(n.jsx)(f,{handleAddProjectToListSubmit:function(e){O(e)},setCreateNewProject:i}),d.length>0&&!1===r&&Object(n.jsx)(P,{projectAllIds:d,projectsById:j,handleUpdateProject:function(e){m(e)},handleDeleteProjectClick:function(e){1===d.length&&k(t,[]),p(e)}})]})},L="SET_PROJECTS_FROM_FB",U="ADD_NEW_PROJECT",B="DELETE_PROJECT",T=c(17),R=function(e,t){switch(t.type){case L:return t.payload;case U:return[].concat(Object(T.a)(e),[t.payload.title]);case B:return e.filter((function(e){return e!==t.payload.title}));default:return e}},_=function(e,t){return Object.keys(e).reduce((function(c,n){return n!==t&&(c[n]=e[n]),c}),{})},F=function(e,t){switch(t.type){case L:return t.payload;case U:var c=Object(m.a)({},e);return c[t.payload.title]=t.payload,c;case B:return _(e,t.payload.title);default:return e}},M=function(e){var t=Object(s.useReducer)(F,null),c=Object(o.a)(t,2),a=c[0],r=c[1],i=Object(s.useReducer)(R,[]),l=Object(o.a)(i,2),j=l[0],d=l[1];return Object(n.jsx)(w.Provider,{value:{projectsById:a,projectsAllIds:j,setProjectsAllIdsFromFBtoState:function(e){d({type:L,payload:e})},setProjectsByIdFromFBtoState:function(e){r({type:L,payload:e})},addProjectToState:function(e){d({type:U,payload:e}),r({type:U,payload:e})},deleteProject:function(e){r({type:B,payload:e}),d({type:B,payload:e})},updateProject:function(e){r({type:U,payload:e})}},children:e.children})};var H=function(){var e=Object(s.useContext)(u).user;return Object(n.jsx)("div",{className:"App",children:e?Object(n.jsx)(M,{children:Object(n.jsx)(D,{user:e})}):Object(n.jsx)(O,{user:e})})},J="SET_LOGGEDIN_USER",W="LOGOUT_USER",G=function(e,t){switch(t.type){case J:return t.payload;case W:return"";default:return e}},z=function(e){var t=Object(s.useReducer)(G,""),c=Object(o.a)(t,2),a=c[0],r=c[1];return Object(n.jsx)(u.Provider,{value:{user:a,setLoggedInUser:function(e){r({type:J,payload:e})},logoutUser:function(){r({type:W,payload:""})}},children:e.children})};r.a.render(Object(n.jsx)(z,{children:Object(n.jsx)(H,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.51b12ccc.chunk.js.map